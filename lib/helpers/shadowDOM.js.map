{"version":3,"sources":["../../src/helpers/shadowDOM.js"],"names":["element","props","applyStylesheet","node","generatedClassName","state","style","document","querySelector","styleTag","innerHTML","stylesheet","n","createElement","ref","PureComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAGe,UAACA,OAAD,EAAa;AAC1B;AAAA;;AACE,+BAAYC,KAAZ,EAAmB;AAAA;;AAAA,sIACXA,KADW;;AAAA,cAOnBC,eAPmB,GAOD,UAACC,IAAD,EAAU;AAAA,cAClBC,kBADkB,GACKD,KAAKE,KADV,CAClBD,kBADkB;;AAE1B,cAAME,QAAQC,SAASC,aAAT,gCAAoDJ,kBAApD,QAAd;AACA,cAAI,CAACE,KAAL,EAAY;AACV;AACD;AACD,gBAAKG,QAAL,CAAcC,SAAd,GAA0BJ,MAAMI,SAAhC;AACD,SAdkB;;AAEjB,cAAKL,KAAL,GAAa;AACXM,sBAAY;AADD,SAAb;AAFiB;AAKlB;;AANH;AAAA;AAAA,iCAiBW;AAAA;;AAAA,cACCA,UADD,GACgB,KAAKN,KADrB,CACCM,UADD;;AAEP,iBACE;AAAA;AAAA;AACE;AAAA;AAAA;AACE,uDAAO,KAAK,aAACC,CAAD;AAAA,yBAAO,OAAKH,QAAL,GAAgBG,CAAvB;AAAA,iBAAZ,GADF;AAEG,8BAAMC,aAAN,CAAoBb,OAApB,eAAiC,KAAKC,KAAtC,IAA6Ca,KAAK,KAAKZ,eAAvD;AAFH;AADF,WADF;AAQD;AA3BH;;AAAA;AAAA,MAAqC,gBAAMa,aAA3C;AA6BD,G","file":"shadowDOM.js","sourcesContent":["import React from 'react'\nimport ShadowDOM from 'react-shadow'\n\nexport default (element) => {\n  return class ShadowDOMHelper extends React.PureComponent {\n    constructor(props) {\n      super(props)\n      this.state = {\n        stylesheet: false\n      }\n    }\n\n    applyStylesheet = (node) => {\n      const { generatedClassName } = node.state\n      const style = document.querySelector(`[data-styled-components*=\"${generatedClassName}\"]`)\n      if (!style) {\n        return;\n      }\n      this.styleTag.innerHTML = style.innerHTML;\n    }\n\n    render() {\n      const { stylesheet } = this.state\n      return (\n        <ShadowDOM>\n          <span>\n            <style ref={(n) => this.styleTag = n} />\n            {React.createElement(element, {...this.props, ref: this.applyStylesheet})}\n          </span>\n        </ShadowDOM>\n      )\n    }\n  }\n}\n"]}